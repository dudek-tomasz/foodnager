---
/**
 * Profile Page
 * 
 * User profile page using standard Layout and ProfileView component.
 * Features:
 * - Protected route (requires authentication - will be implemented with backend)
 * - Display user information
 * - Account creation date
 * - Logout button (mobile)
 * - Clean card-based layout
 * 
 * MVP Simplifications:
 * - No statistics
 * - No password change
 * - No avatar upload
 */

import Layout from "@/layouts/Layout.astro";
import ProfileView from "@/components/profile/ProfileView";

export const prerender = false;

// TODO: When implementing backend, add this logic:
// const user = Astro.locals.user;
// if (!user) {
//   return Astro.redirect('/login?redirect=/profile');
// }

// Mock user data for UI development
// Replace with actual user data from Astro.locals.user when backend is ready
const mockUser = {
  id: "550e8400-e29b-41d4-a716-446655440000",
  email: "uzytkownik@example.com",
  createdAt: new Date().toISOString(),
};

// For production, use:
// const userData = {
//   id: user.id,
//   email: user.email,
//   createdAt: user.created_at,
// };
---

<Layout title="Profil - Foodnager" description="Twój profil użytkownika">
  <ProfileView client:load user={mockUser} />
</Layout>

